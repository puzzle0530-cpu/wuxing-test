<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½ çš„å…«å­—å¤©é€‰åŸå¸‚æ˜¯å“ªåº§ï¼Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* æ˜Ÿæ˜ŸèƒŒæ™¯è£…é¥° */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffd700;
            border-radius: 50%;
            animation: twinkle 2s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* é¦–é¡µæ ·å¼ */
        .home-page {
            text-align: center;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        .title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .subtitle {
            font-size: 16px;
            color: #a0a0a0;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        /* éªŒè¯ç è¾“å…¥åŒº */
        .code-input-container {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            padding: 30px 25px;
            margin-bottom: 30px;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .code-label {
            font-size: 14px;
            color: #ffd700;
            margin-bottom: 15px;
            text-align: left;
        }

        .code-input {
            width: 100%;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #fff;
            font-size: 18px;
            text-align: center;
            letter-spacing: 3px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .code-input:focus {
            outline: none;
            border-color: rgba(255, 215, 0, 0.6);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .code-hint {
            font-size: 12px;
            color: #a0a0a0;
            text-align: left;
        }

        /* å‡ºç”Ÿæ—¥æœŸè¾“å…¥åŒº */
        .date-input-container {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .date-input-row {
            display: flex;
            gap: 12px;
        }

        .date-input-group {
            flex: 1;
            text-align: left;
        }

        .date-label {
            display: block;
            font-size: 12px;
            color: #ffd700;
            margin-bottom: 8px;
        }

        .date-select {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffd700' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            padding-right: 30px;
        }

        .date-select:focus {
            outline: none;
            border-color: rgba(255, 215, 0, 0.6);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .date-select option {
            background: #1a1a2e;
            color: #fff;
        }

        .start-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            border: none;
            border-radius: 25px;
            color: #1a1a2e;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
        }

        .trust-badge {
            margin-top: 30px;
            font-size: 12px;
            color: #a0a0a0;
        }

        .trust-badge span {
            color: #ffd700;
        }

        /* å‘½ç›˜åˆ†æåŠ è½½é¡µ */
        .loading-mingpan {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .loading-mingpan-spinner {
            width: 80px;
            height: 80px;
            border: 4px solid rgba(255, 215, 0, 0.2);
            border-top-color: #ffd700;
            border-radius: 50%;
            animation: spin 1.2s linear infinite;
            margin: 0 auto 30px;
            position: relative;
        }

        .loading-mingpan-spinner::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 3px solid rgba(255, 215, 0, 0.15);
            border-top-color: #ffd700;
            border-radius: 50%;
            animation: spin 0.8s linear infinite reverse;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-mingpan-text {
            font-size: 16px;
            color: #ffd700;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .loading-mingpan-subtext {
            font-size: 14px;
            color: #a0a0a0;
        }

        /* é—®å·é¡µé¢æ ·å¼ */
        .quiz-page {
            display: none;
            position: relative;
            z-index: 1;
            padding: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #ffb347);
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .question-title {
            font-size: 20px;
            color: #fff;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            color: #fff;
            font-size: 16px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-btn:hover {
            background: rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.6);
            transform: translateX(5px);
        }

        .option-btn:active {
            transform: translateX(2px);
        }

        /* ç»“æœé¡µæ ·å¼ */
        .result-page {
            display: none;
            position: relative;
            z-index: 1;
        }

        .result-header {
            text-align: center;
            padding: 30px 20px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        }

        .result-title {
            font-size: 24px;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .birth-info {
            font-size: 14px;
            color: #a0a0a0;
            margin-bottom: 20px;
        }

        .mingpan-card {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            text-align: left;
        }

        .mingpan-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }

        .mingpan-row:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .mingpan-label {
            font-size: 14px;
            color: #ffd700;
        }

        .mingpan-value {
            font-size: 14px;
            color: #fff;
            font-weight: bold;
        }

        .wuxing-card {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            text-align: center;
        }

        .wuxing-title {
            font-size: 14px;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .wuxing-value {
            font-size: 36px;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            margin-bottom: 15px;
        }

        .wuxing-score {
            font-size: 14px;
            color: #a0a0a0;
        }

        /* åˆ†æå†…å®¹åŒºåŸŸ */
        .analysis-sections {
            padding: 20px;
        }

        .section-title {
            font-size: 16px;
            color: #ffd700;
            margin-bottom: 15px;
            padding-left: 10px;
            border-left: 3px solid #ffd700;
        }

        .section-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .section-item {
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .section-item:last-child {
            margin-bottom: 0;
        }

        .section-item-label {
            color: #ffd700;
            font-weight: bold;
            margin-right: 5px;
        }

        /* åŸå¸‚åˆ†å±‚æ¨èåŒºåŸŸ */
        .city-section {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            text-align: left;
        }

        .city-title {
            font-size: 18px;
            color: #ffd700;
            margin-bottom: 20px;
            text-align: center;
        }

        .city-tier {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .city-tier:last-child {
            margin-bottom: 0;
        }

        .city-tier-label {
            font-size: 14px;
            color: #ffd700;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .city-tier-cities {
            font-size: 18px;
            color: #fff;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .city-tier-desc {
            font-size: 13px;
            color: #a0a0a0;
            line-height: 1.5;
        }

        .city-recommendation {
            margin-top: 15px;
            padding: 12px;
            background: rgba(255, 215, 0, 0.15);
            border-radius: 8px;
            border-left: 3px solid #ffd700;
        }

        .city-recommendation-text {
            font-size: 14px;
            color: #fff;
            line-height: 1.6;
        }

        .city-recommendation-text strong {
            color: #ffd700;
        }

        /* åº•éƒ¨æŒ‰é’® */
        .bottom-actions {
            padding: 20px;
            text-align: center;
        }

        .share-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            border: none;
            border-radius: 20px;
            color: #1a1a2e;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 15px;
        }

        .reset-btn {
            background: none;
            border: 1px solid rgba(255, 215, 0, 0.5);
            color: #ffd700;
            padding: 10px 20px;
            border-radius: 15px;
            font-size: 14px;
            cursor: pointer;
        }

        /* æç¤ºä¿¡æ¯ */
        .toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 215, 0, 0.9);
            color: #1a1a2e;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            z-index: 1000;
            display: none;
        }
    </style>
</head>
<body>
    <!-- æ˜Ÿæ˜ŸèƒŒæ™¯ -->
    <div class="stars" id="stars"></div>

    <div class="container">
        <!-- é¦–é¡µ -->
        <div class="home-page" id="homePage">
            <h1 class="title">ä½ çš„å…«å­—é‡Œè—ç€ä»€ä¹ˆç§˜å¯†ï¼Ÿ</h1>
            <p class="subtitle">è¾“å…¥å‡ºç”Ÿæ—¶é—´ï¼Œè§£é”ä½ çš„å‘½ç›˜è§£è¯»<br>æ‰¾åˆ°ä½ çš„å¤©é€‰åŸå¸‚</p>

            <!-- éªŒè¯ç è¾“å…¥åŒº -->
            <div class="code-input-container">
                <div class="code-label">æˆæƒéªŒè¯ç </div>
                <input type="text" class="code-input" id="authCode" placeholder="è¯·è¾“å…¥éªŒè¯ç " maxlength="10">
                <div class="code-hint">åœ¨å°çº¢ä¹¦è´­ä¹°åï¼Œæˆ‘ä¼šå‘é€éªŒè¯ç ç»™ä½ ï¼Œè¯·è¾“å…¥éªŒè¯ç ç»§ç»­</div>
            </div>

            <!-- å‡ºç”Ÿæ—¥æœŸè¾“å…¥åŒº -->
            <div class="date-input-container">
                <div class="date-input-row">
                    <div class="date-input-group">
                        <label class="date-label">å¹´ä»½</label>
                        <select class="date-select" id="yearSelect">
                            <option value="">é€‰æ‹©</option>
                        </select>
                    </div>
                    <div class="date-input-group">
                        <label class="date-label">æœˆä»½</label>
                        <select class="date-select" id="monthSelect">
                            <option value="">é€‰æ‹©</option>
                            <option value="1">1æœˆ</option>
                            <option value="2">2æœˆ</option>
                            <option value="3">3æœˆ</option>
                            <option value="4">4æœˆ</option>
                            <option value="5">5æœˆ</option>
                            <option value="6">6æœˆ</option>
                            <option value="7">7æœˆ</option>
                            <option value="8">8æœˆ</option>
                            <option value="9">9æœˆ</option>
                            <option value="10">10æœˆ</option>
                            <option value="11">11æœˆ</option>
                            <option value="12">12æœˆ</option>
                        </select>
                    </div>
                    <div class="date-input-group">
                        <label class="date-label">æ—¥æœŸ</label>
                        <select class="date-select" id="daySelect">
                            <option value="">é€‰æ‹©</option>
                        </select>
                    </div>
                </div>
            </div>

            <button class="start-btn" id="startBtn" onclick="startQuiz()">ç«‹å³æµ‹ç®—</button>

            <p class="trust-badge">å·²æœ‰ <span>50000+</span> äººæµ‹ç®—</p>
        </div>

        <!-- å‘½ç›˜åˆ†æåŠ è½½é¡µ -->
        <div class="loading-mingpan" id="loadingMingpanPage">
            <div class="loading-mingpan-spinner"></div>
            <p class="loading-mingpan-text">æ­£åœ¨åˆ†æä½ çš„å‘½ç›˜...</p>
            <p class="loading-mingpan-subtext" id="loadingText">æ¨ç®—å¹´æŸ±ã€æœˆæŸ±ã€æ—¥æŸ±...</p>
        </div>

        <!-- é—®å·é¡µé¢ -->
        <div class="quiz-page" id="quizPage">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <h2 class="question-title" id="questionTitle">é—®é¢˜ 1/12</h2>

            <div class="options-container" id="optionsContainer"></div>
        </div>

        <!-- ç»“æœé¡µ -->
        <div class="result-page" id="resultPage">
            <div class="result-header">
                <h2 class="result-title">ä½ çš„å‘½ç›˜è§£è¯»</h2>

                <div class="birth-info" id="birthInfo">å‡ºç”Ÿæ—¥æœŸï¼š-</div>

                <!-- å‘½ç›˜ä¿¡æ¯å¡ç‰‡ -->
                <div class="mingpan-card">
                    <div class="mingpan-row">
                        <span class="mingpan-label">å¹´æŸ±</span>
                        <span class="mingpan-value" id="yearPillar">-</span>
                    </div>
                    <div class="mingpan-row">
                        <span class="mingpan-label">å¹´å¹²äº”è¡Œ</span>
                        <span class="mingpan-value" id="yearStemWuxing">-</span>
                    </div>
                    <div class="mingpan-row">
                        <span class="mingpan-label">å¹´æ”¯äº”è¡Œ</span>
                        <span class="mingpan-value" id="yearBranchWuxing">-</span>
                    </div>
                </div>

                <!-- äº”è¡Œå±æ€§å¡ç‰‡ -->
                <div class="wuxing-card">
                    <div class="wuxing-title">ä½ çš„æœ¬å‘½äº”è¡Œ</div>
                    <div class="wuxing-value" id="wuxingValue">-</div>
                    <div class="wuxing-score" id="wuxingScore">-</div>
                </div>
            </div>

            <div class="analysis-sections">
                <div class="section-title">æ€§æ ¼ç‰¹å¾</div>
                <div class="section-content" id="personalitySection"></div>

                <div class="section-title">äº‹ä¸šå»ºè®®</div>
                <div class="section-content" id="careerSection"></div>

                <div class="section-title">æ„Ÿæƒ…å»ºè®®</div>
                <div class="section-content" id="loveSection"></div>

                <div class="section-title">è´¢è¿å»ºè®®</div>
                <div class="section-content" id="wealthSection"></div>
            </div>

            <!-- åŸå¸‚åˆ†å±‚æ¨èåŒºåŸŸ -->
            <div class="city-section">
                <div class="city-title">ğŸŒŸ ä½ çš„å¤©é€‰åŸå¸‚</div>
                <div id="cityRecommendation"></div>
            </div>

            <div class="bottom-actions">
                <button class="share-btn" onclick="shareResult()">ç”Ÿæˆåˆ†äº«æµ·æŠ¥</button>
                <button class="reset-btn" onclick="resetPage()">é‡æ–°æµ‹ç®—</button>
            </div>
        </div>
    </div>

    <!-- æç¤ºæ¡† -->
    <div class="toast" id="toast"></div>

    <script>
        // å¤©å¹²åœ°æ”¯
        const heavenlyStems = ['ç”²', 'ä¹™', 'ä¸™', 'ä¸', 'æˆŠ', 'å·±', 'åºš', 'è¾›', 'å£¬', 'ç™¸'];
        const earthlyBranches = ['å­', 'ä¸‘', 'å¯…', 'å¯', 'è¾°', 'å·³', 'åˆ', 'æœª', 'ç”³', 'é…‰', 'æˆŒ', 'äº¥'];

        // å¤©å¹²äº”è¡Œ
        const stemWuxing = {
            'ç”²': 'æœ¨', 'ä¹™': 'æœ¨',
            'ä¸™': 'ç«', 'ä¸': 'ç«',
            'æˆŠ': 'åœŸ', 'å·±': 'åœŸ',
            'åºš': 'é‡‘', 'è¾›': 'é‡‘',
            'å£¬': 'æ°´', 'ç™¸': 'æ°´'
        };

        // åœ°æ”¯äº”è¡Œ
        const branchWuxing = {
            'å­': 'æ°´', 'ä¸‘': 'åœŸ', 'å¯…': 'æœ¨', 'å¯': 'æœ¨',
            'è¾°': 'åœŸ', 'å·³': 'ç«', 'åˆ': 'ç«', 'æœª': 'åœŸ',
            'ç”³': 'é‡‘', 'é…‰': 'é‡‘', 'æˆŒ': 'åœŸ', 'äº¥': 'æ°´'
        };

        // åˆå§‹åŒ–å¹´ä»½å’Œæ—¥æœŸé€‰æ‹©
        function initDateSelectors() {
            const yearSelect = document.getElementById('yearSelect');
            const daySelect = document.getElementById('daySelect');
            const monthSelect = document.getElementById('monthSelect');

            // å¡«å……å¹´ä»½ï¼ˆ1960-2026ï¼‰
            for (let year = 2026; year >= 1960; year--) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year + 'å¹´';
                yearSelect.appendChild(option);
            }

            // æœˆä»½é€‰æ‹©æ—¶æ›´æ–°æ—¥æœŸ
            monthSelect.addEventListener('change', function() {
                updateDays();
            });

            // åˆå§‹åŒ–æ—¥æœŸï¼ˆ31å¤©ï¼‰
            for (let day = 1; day <= 31; day++) {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day + 'æ—¥';
                daySelect.appendChild(option);
            }
        }

        // æ ¹æ®æœˆä»½æ›´æ–°å¤©æ•°
        function updateDays() {
            const monthSelect = document.getElementById('monthSelect');
            const daySelect = document.getElementById('daySelect');
            const yearSelect = document.getElementById('yearSelect');

            const month = parseInt(monthSelect.value) || 0;
            const year = parseInt(yearSelect.value) || 2026;

            // æ¸…ç©ºæ—¥æœŸ
            daySelect.innerHTML = '<option value="">é€‰æ‹©</option>';

            let days = 31;
            if (month === 2) {
                // é—°å¹´åˆ¤æ–­
                if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) {
                    days = 29;
                } else {
                    days = 28;
                }
            } else if ([4, 6, 9, 11].includes(month)) {
                days = 30;
            }

            for (let day = 1; day <= days; day++) {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day + 'æ—¥';
                daySelect.appendChild(option);
            }
        }

        // è®¡ç®—å¹´å¹²æ”¯
        function calculateYearStemBranch(year) {
            // 1984å¹´ = ç”²å­å¹´ï¼ˆèµ·ç‚¹ï¼‰
            const offset = year - 1984;
            
            // è®¡ç®—å¤©å¹²ç´¢å¼•ï¼ˆ0-9å¾ªç¯ï¼‰
            const stemIndex = offset % 10;
            const stem = heavenlyStems[(stemIndex + 10) % 10];
            
            // è®¡ç®—åœ°æ”¯ç´¢å¼•ï¼ˆ0-11å¾ªç¯ï¼‰
            const branchIndex = offset % 12;
            const branch = earthlyBranches[(branchIndex + 12) % 12];
            
            return {
                stem: stem,
                branch: branch,
                stemWuxing: stemWuxing[stem],
                branchWuxing: branchWuxing[branch],
                full: stem + branch
            };
        }

        // ==================== éªŒè¯ç é…ç½® ====================
        // å›ºå®šéªŒè¯ç æ¨¡å¼
        // ä¿®æ”¹å¯†ç æ—¶ï¼Œåªéœ€ä¿®æ”¹ä¸‹é¢çš„æ•°å­—å³å¯ï¼ˆå¦‚æŠŠ '5656' æ”¹æˆ '8888'ï¼‰
        const FIXED_CODE = '3721';
        
        // éªŒè¯éªŒè¯ç 
        function validateAuthCode(code) {
            // å›ºå®šå¯†ç éªŒè¯
            return FIXED_CODE === code.trim();
        }

        // é—®å·æ•°æ®
        const questions = [
            {
                question: "åœ¨ä¸€ç‰‡æ£®æ—é‡Œï¼Œä½ æ›´æƒ³æˆä¸ºï¼Ÿ",
                options: [
                    { text: "åšç¡¬çš„å²©çŸ³", wuxing: "é‡‘" },
                    { text: "èŒ‚ç››çš„å¤§æ ‘", wuxing: "æœ¨" },
                    { text: "æµåŠ¨çš„æºªæ°´", wuxing: "æ°´" },
                    { text: "æ¸©æš–çš„é˜³å…‰", wuxing: "ç«" },
                    { text: "è‚¥æ²ƒçš„æ³¥åœŸ", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§å­£èŠ‚çš„æ°”å€™ï¼Ÿ",
                options: [
                    { text: "ç§‹é«˜æ°”çˆ½ï¼Œé£æ¸…äº‘æ·¡", wuxing: "é‡‘" },
                    { text: "æ˜¥æš–èŠ±å¼€ï¼Œä¸‡ç‰©ç”Ÿé•¿", wuxing: "æœ¨" },
                    { text: "å†¬é›ªçš‘çš‘ï¼Œé™è°§æ·±æ²‰", wuxing: "æ°´" },
                    { text: "å¤æ—¥ç‚ç‚ï¼Œçƒ­æƒ…ä¼¼ç«", wuxing: "ç«" },
                    { text: "æš®æ˜¥åˆå¤ï¼Œæ¸©å’Œèˆ’é€‚", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ çš„ç†æƒ³å±…æ‰€æ˜¯ï¼Ÿ",
                options: [
                    { text: "å±±é¡¶åˆ«å¢…ï¼Œè§†é‡å¼€é˜”", wuxing: "é‡‘" },
                    { text: "æ—é—´å°å±‹ï¼Œè‡ªç„¶æ¸…å¹½", wuxing: "æœ¨" },
                    { text: "æ±Ÿè¾¹å…¬å¯“ï¼Œä¸´æ°´è€Œå±…", wuxing: "æ°´" },
                    { text: "æµ·æ™¯è±ªå®…ï¼Œé˜³å…‰å……æ²›", wuxing: "ç«" },
                    { text: "åŸä¸­å¿ƒï¼Œå®‰ç¨³ä¾¿åˆ©", wuxing: "åœŸ" }
                ]
            },
            {
                question: "å¦‚æœå¯ä»¥é€‰æ‹©è¶…èƒ½åŠ›ï¼Œä½ æƒ³è¦ï¼Ÿ",
                options: [
                    { text: "ç‚¹çŸ³æˆé‡‘ï¼ŒæŒæ§ç‰©è´¨", wuxing: "é‡‘" },
                    { text: "ä¸‡ç‰©ç”Ÿé•¿ï¼Œç”Ÿç”Ÿä¸æ¯", wuxing: "æœ¨" },
                    { text: "é©¾é©­æ°´æµï¼Œéšå½¢å˜åŒ–", wuxing: "æ°´" },
                    { text: "å‘¼å”¤çƒˆç«ï¼Œç‡ƒçƒ§æ¿€æƒ…", wuxing: "ç«" },
                    { text: "ç§»å±±å¡«æµ·ï¼Œé‡å¡‘å¤§åœ°", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§è‰ºæœ¯é£æ ¼ï¼Ÿ",
                options: [
                    { text: "é‡‘å±é›•å¡‘ï¼Œæ£±è§’åˆ†æ˜", wuxing: "é‡‘" },
                    { text: "æ°´å¢¨å±±æ°´ï¼Œæ„å¢ƒæ·±è¿œ", wuxing: "æœ¨" },
                    { text: "æ²¹ç”»æµ·æ´‹ï¼Œæ·±é‚ƒæµåŠ¨", wuxing: "æ°´" },
                    { text: "æš–è‰²æŠ½è±¡ï¼Œçƒ­çƒˆå¥”æ”¾", wuxing: "ç«" },
                    { text: "å›½ç”»ç”°å›­ï¼Œåšé‡æ²‰ç¨³", wuxing: "åœŸ" }
                ]
            },
            {
                question: "é¢å¯¹å›°å¢ƒæ—¶ï¼Œä½ å€¾å‘äºï¼Ÿ",
                options: [
                    { text: "å¦‚åˆ©å‰‘å‡ºé˜ï¼Œç›´é¢æ–©æ–­", wuxing: "é‡‘" },
                    { text: "å¦‚æ ‘æœ¨ç›˜æ ¹ï¼ŒéŸ§æ€§åšæŒ", wuxing: "æœ¨" },
                    { text: "å¦‚æµæ°´ç»•çŸ³ï¼Œçµæ´»é¿è®©", wuxing: "æ°´" },
                    { text: "å¦‚çƒˆç«ç„šé‡ï¼Œå½»åº•æ”¹å˜", wuxing: "ç«" },
                    { text: "å¦‚å±±å²³å·å³¨ï¼Œç¨³å¦‚æ³°å±±", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§å®çŸ³ï¼Ÿ",
                options: [
                    { text: "é’»çŸ³ï¼Œåšç¡¬ç’€ç’¨", wuxing: "é‡‘" },
                    { text: "ç¿¡ç¿ ï¼Œæ¸©æ¶¦é€šé€", wuxing: "æœ¨" },
                    { text: "è“å®çŸ³ï¼Œæ·±é‚ƒå¦‚æµ·", wuxing: "æ°´" },
                    { text: "çº¢å®çŸ³ï¼Œçƒ­æƒ…ä¼¼ç«", wuxing: "ç«" },
                    { text: "é»„ç‰ï¼Œç¨³é‡æ¸©åš", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ çš„èƒ½é‡æ¥æºæ˜¯ï¼Ÿ",
                options: [
                    { text: "ç›®æ ‡è¾¾æˆï¼Œå¾æœå¿«æ„Ÿ", wuxing: "é‡‘" },
                    { text: "å­¦ä¹ æˆé•¿ï¼Œæ™ºæ…§ç§¯ç´¯", wuxing: "æœ¨" },
                    { text: "ç¤¾äº¤è¿æ¥ï¼Œäººè„‰èµ„æº", wuxing: "æ°´" },
                    { text: "åˆ›é€ è¡¨è¾¾ï¼Œæ¿€æƒ…é‡Šæ”¾", wuxing: "ç«" },
                    { text: "ç§©åºç¨³å®šï¼Œå®‰å…¨æ„Ÿ", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ çš„æ¶ˆè´¹ä¹ æƒ¯æ˜¯ï¼Ÿ",
                options: [
                    { text: "æ•¢èŠ±é’±ï¼Œä¹°å“è´¨", wuxing: "é‡‘" },
                    { text: "ç²¾æ‰“ç»†ç®—ï¼Œé‡æ€§ä»·æ¯”", wuxing: "æœ¨" },
                    { text: "å–œæ¬¢åˆ†äº«ï¼Œå¸¸è¯·å®¢", wuxing: "æ°´" },
                    { text: "å†²åŠ¨æ¶ˆè´¹ï¼Œä¹°å¼€å¿ƒ", wuxing: "ç«" },
                    { text: "èŠ‚çº¦å‚¨è“„ï¼Œé‡å®‰å…¨æ„Ÿ", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ çš„å­¦ä¹ æ–¹å¼æ˜¯ï¼Ÿ",
                options: [
                    { text: "å®è·µå‡ºçœŸçŸ¥", wuxing: "é‡‘" },
                    { text: "ç³»ç»ŸåŒ–å­¦ä¹ ", wuxing: "æœ¨" },
                    { text: "äº¤æµè®¨è®ºä¸­å­¦ä¹ ", wuxing: "æ°´" },
                    { text: "å…´è¶£é©±åŠ¨ï¼Œè¾¹ç©è¾¹å­¦", wuxing: "ç«" },
                    { text: "å¾ªåºæ¸è¿›ï¼Œæ‰“å¥½åŸºç¡€", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ çš„æ ¸å¿ƒä»·å€¼è§‚æ˜¯ï¼Ÿ",
                options: [
                    { text: "æˆå°±", wuxing: "é‡‘" },
                    { text: "çœŸç†", wuxing: "æœ¨" },
                    { text: "å’Œè°", wuxing: "æ°´" },
                    { text: "è‡ªç”±", wuxing: "ç«" },
                    { text: "å®‰å…¨", wuxing: "åœŸ" }
                ]
            },
            {
                question: "ä½ æ›´ç›¸ä¿¡ï¼Ÿ",
                options: [
                    { text: "å®åŠ›èƒœè¿‡è¿æ°”", wuxing: "é‡‘" },
                    { text: "çŸ¥è¯†èƒœè¿‡ç›´è§‰", wuxing: "æœ¨" },
                    { text: "äººè„‰èƒœè¿‡èƒ½åŠ›", wuxing: "æ°´" },
                    { text: "è¿æ°”èƒœè¿‡åŠªåŠ›", wuxing: "ç«" },
                    { text: "ç¨³å®šèƒœè¿‡å†’é™©", wuxing: "åœŸ" }
                ]
            }
        ];

        // äº”è¡Œæ–‡æ¡ˆåº“ï¼ˆåŒ…å«åˆ†å±‚åŸå¸‚æ¨èï¼‰
        const wuxingContent = {
            'é‡‘': {
                personality: {
                    desc: "ä½ åƒé”‹åˆ©å®å‰‘ï¼Œæœæ–­åšæ¯…ï¼Œæ‰§è¡ŒåŠ›å¼ºã€‚æœ‰é­„åŠ›ï¼Œèƒ½æ‰›äº‹ï¼Œä½†æœ‰æ—¶è¿‡äºå¼ºç¡¬ï¼Œå®¹æ˜“ä¼¤äººã€‚",
                    keywords: "åšæ¯…æœæ–­ã€æ‰§è¡ŒåŠ›å¼ºã€æœ‰é­„åŠ›"
                },
                career: {
                    suitable: 'é‡‘èã€æ³•å¾‹ã€å†›è­¦ã€åˆ¶é€ ä¸šã€æŠ€æœ¯ã€å’¨è¯¢',
                    avoid: 'ä¼ åª’ã€è‰ºæœ¯ã€æœåŠ¡ä¸š',
                    forecast: '2026å¹´é‡‘æ°´ç›¸ç”Ÿï¼Œäº‹ä¸šä¸Šå‡ï¼›2027å¹´éœ€é˜²è¿‡äºå¼ºåŠ¿'
                },
                love: {
                    type: 'ç†æ€§å†·é™ï¼Œä¸å–„è¡¨è¾¾',
                    strength: 'è´Ÿè´£ä»»ï¼Œèƒ½ä¿æŠ¤ä¼´ä¾£',
                    weakness: 'ä¸å¤Ÿæµªæ¼«ï¼Œå®¹æ˜“å†·åœº',
                    match: 'æ°´å‘½äººï¼ˆç›¸ç”Ÿç›¸æ—ºï¼‰æˆ–åœŸå‘½äººï¼ˆèˆ¬é…ç¨³é‡ï¼‰'
                },
                wealth: {
                    source: 'æ­£è´¢è¿æ—ºï¼Œé ä¸“ä¸šå’Œç®¡ç†èƒ½åŠ›èµšé’±',
                    regular: 'ç¨³å®šå¢é•¿ï¼Œé€‚åˆå‚¨è“„',
                    windfall: 'è°¨æ…ä¸ºä¸»ï¼Œä¸å®œæŠ•æœº',
                    invest: 'é‡‘èã€åŸºé‡‘ã€å‚¨è“„'
                },
                cities: {
                    tier1: {
                        label: 'ä¸€çº¿åŸå¸‚ï¼ˆé‡‘æ°”æœ€æ—ºï¼‰',
                        cities: 'åŒ—äº¬ã€è¥¿å®‰',
                        desc: 'æ”¿æ²»ä¸­å¿ƒæˆ–å¤éƒ½ï¼Œé‡‘æ°”æ—ºç››ï¼Œé€‚åˆå‘æŒ¥é¢†å¯¼åŠ›'
                    },
                    tier2: {
                        label: 'æ–°ä¸€çº¿åŸå¸‚ï¼ˆå‘å±•æ½œåŠ›å¤§ï¼‰',
                        cities: 'æ²ˆé˜³ã€å¤©æ´¥',
                        desc: 'é‡å·¥ä¸šæˆ–é‡‘èä¸­å¿ƒï¼ŒèŒä¸šæœºä¼šå¤š'
                    },
                    tier3: {
                        label: 'ä¸‰å››çº¿åŸå¸‚ï¼ˆç”Ÿæ´»èˆ’é€‚ï¼‰',
                        cities: 'éå±±ã€åŒ…å¤´ã€å‰æ—',
                        desc: 'èµ„æºå‹åŸå¸‚ï¼Œæˆæœ¬ä½ï¼ŒèŠ‚å¥æ…¢ï¼Œé€‚åˆç¨³å®šå‘å±•'
                    },
                    recommendation: 'æ ¹æ®ä½ çš„æ€§æ ¼ï¼Œå»ºè®®ä¼˜å…ˆè€ƒè™‘<strong>éå±±</strong>ï¼Œæ—¢èƒ½å‘æŒ¥æ‰§è¡ŒåŠ›ï¼Œåˆèƒ½äº«å—èˆ’é€‚ç”Ÿæ´»ã€‚'
                }
            },
            'æœ¨': {
                personality: {
                    desc: "ä½ åƒæ£®æ—ä¸­çš„å‚å¤©å¤§æ ‘ï¼Œç”Ÿå‘½åŠ›æ—ºç››ï¼ŒåšéŸ§ä¸æ‹”ã€‚æœ‰ä¸»è§ï¼Œèƒ½åšæŒï¼Œä½†æœ‰æ—¶è¿‡äºå›ºæ‰§ï¼Œä¸å¤Ÿçµæ´»ã€‚",
                    keywords: "ç”Ÿå‘½åŠ›æ—ºç››ã€åšéŸ§ä¸æ‹”ã€æœ‰ä¸»è§"
                },
                career: {
                    suitable: 'æ•™è‚²ã€æ–‡åŒ–ã€ä¼ åª’ã€è®¾è®¡ã€åŒ»ç–—ã€å›­æ—ã€å®¶å…·',
                    avoid: 'é‡‘èã€æˆ¿åœ°äº§ã€é‡å·¥ä¸š',
                    forecast: '2026å¹´æœ¨ç«ç›¸ç”Ÿï¼Œäº‹ä¸šä¸Šå‡ï¼›2027å¹´éœ€é˜²è¿‡åº¦æ¶ˆè€—'
                },
                love: {
                    type: 'é‡æ„Ÿæƒ…ï¼Œä¸“ä¸€ä½†ç¼ºä¹æµªæ¼«',
                    strength: 'è´£ä»»å¿ƒå¼ºï¼Œèƒ½æ‰˜ä»˜ç»ˆèº«',
                    weakness: 'ä¸å–„è¡¨è¾¾ï¼Œå®¹æ˜“é”™è¿‡æœºä¼š',
                    match: 'ç«å‘½äººï¼ˆæ¸©æš–æµªæ¼«ï¼‰æˆ–æ°´å‘½äººï¼ˆç›¸ç”Ÿç›¸æ—ºï¼‰'
                },
                wealth: {
                    source: 'æ­£è´¢è¿æ—ºï¼Œé ä¸“ä¸šèƒ½åŠ›èµšé’±',
                    regular: 'ç¨³å¥å¢é•¿ï¼Œé€‚åˆå‚¨è“„',
                    windfall: 'ä¸å®œæŠ•æœºï¼Œä¿å®ˆä¸ºä¸»',
                    invest: 'æ•™è‚²ã€å¥åº·ã€æ–‡åŒ–äº§ä¸š'
                },
                cities: {
                    tier1: {
                        label: 'ä¸€çº¿åŸå¸‚ï¼ˆæœ¨æ°”æœ€æ—ºï¼‰',
                        cities: 'æ­å·ã€è‹å·',
                        desc: 'é£æ™¯ç§€ä¸½ï¼Œæ–‡åŒ–åº•è•´æ·±åšï¼Œé€‚åˆåˆ›æ„äº§ä¸šå‘å±•'
                    },
                    tier2: {
                        label: 'æ–°ä¸€çº¿åŸå¸‚ï¼ˆå‘å±•æ½œåŠ›å¤§ï¼‰',
                        cities: 'å—äº¬ã€å®æ³¢',
                        desc: 'ç»æµå‘è¾¾ï¼Œç¯å¢ƒä¼˜ç¾ï¼Œå·¥ä½œç”Ÿæ´»å¹³è¡¡'
                    },
                    tier3: {
                        label: 'ä¸‰å››çº¿åŸå¸‚ï¼ˆç”Ÿæ´»èˆ’é€‚ï¼‰',
                        cities: 'å˜‰å…´ã€æ¹–å·ã€æ‰¬å·',
                        desc: 'å®œå±…åŸå¸‚ï¼Œé£æ™¯å¥½ï¼Œæˆæœ¬ä½ï¼Œé€‚åˆæ…¢èŠ‚å¥ç”Ÿæ´»'
                    },
                    recommendation: 'æ ¹æ®ä½ çš„æ€§æ ¼ï¼Œå»ºè®®ä¼˜å…ˆè€ƒè™‘<strong>å˜‰å…´</strong>ï¼Œæ—¢èƒ½å‘å±•äº‹ä¸šï¼Œåˆèƒ½äº«å—ç”Ÿæ´»ã€‚'
                }
            },
            'æ°´': {
                personality: {
                    desc: "ä½ åƒæ»”æ»”æ±Ÿæ°´ï¼Œçµæ´»å˜é€šï¼Œé€‚åº”åŠ›å¼ºã€‚æƒ…å•†é«˜ï¼Œä¼šæ¥äº‹ï¼Œä½†æœ‰æ—¶è¿‡äºåœ†æ»‘ï¼Œç¼ºä¹åŸåˆ™ã€‚",
                    keywords: "çµæ´»å˜é€šã€é€‚åº”åŠ›å¼ºã€æƒ…å•†é«˜"
                },
                career: {
                    suitable: 'è´¸æ˜“ã€ç‰©æµã€æ—…æ¸¸ã€ä¼ åª’ã€æ•™è‚²ã€å’¨è¯¢ã€æœåŠ¡ä¸š',
                    avoid: 'åˆ¶é€ ä¸šã€é‡‘èã€è¡Œæ”¿',
                    forecast: '2026å¹´æ°´æœ¨ç›¸ç”Ÿï¼Œäº‹ä¸šä¸Šå‡ï¼›2027å¹´éœ€é˜²è¿‡äºåœ†æ»‘'
                },
                love: {
                    type: 'æ¸©æŸ”ç»†è…»ï¼Œå–„è§£äººæ„',
                    strength: 'æƒ…å•†é«˜ï¼Œä¼šç»è¥å…³ç³»',
                    weakness: 'æ¡ƒèŠ±å¤ªæ—ºï¼Œå®¹æ˜“åˆ†å¿ƒ',
                    match: 'æœ¨å‘½äººï¼ˆç›¸ç”Ÿç›¸æ—ºï¼‰æˆ–é‡‘å‘½äººï¼ˆèˆ¬é…ç¨³é‡ï¼‰'
                },
                wealth: {
                    source: 'åè´¢è¿æ—ºï¼Œé äººè„‰å’Œæœºä¼šèµšé’±',
                    regular: 'æ³¢åŠ¨è¾ƒå¤§ï¼Œä¸ç¨³å®š',
                    windfall: 'æœºä¼šè¾ƒå¤šï¼Œéœ€è°¨æ…',
                    invest: 'è´¸æ˜“ã€äº’è”ç½‘ã€åŸºé‡‘'
                },
                cities: {
                    tier1: {
                        label: 'ä¸€çº¿åŸå¸‚ï¼ˆæ°´æ°”æœ€æ—ºï¼‰',
                        cities: 'ä¸Šæµ·ã€æ·±åœ³ã€å¹¿å·',
                        desc: 'æ²¿æµ·åŸå¸‚ï¼Œå•†ä¸šå‘è¾¾ï¼Œé€‚åˆè´¸æ˜“å’Œé‡‘è'
                    },
                    tier2: {
                        label: 'æ–°ä¸€çº¿åŸå¸‚ï¼ˆå‘å±•æ½œåŠ›å¤§ï¼‰',
                        cities: 'é’å²›ã€å¦é—¨',
                        desc: 'æ¸¯å£åŸå¸‚ï¼Œå¼€æ”¾ç¨‹åº¦é«˜ï¼Œæœºä¼šå¤š'
                    },
                    tier3: {
                        label: 'ä¸‰å››çº¿åŸå¸‚ï¼ˆç”Ÿæ´»èˆ’é€‚ï¼‰',
                        cities: 'ç æµ·ã€å¨æµ·ã€çƒŸå°',
                        desc: 'æµ·æ»¨åŸå¸‚ï¼Œç¯å¢ƒä¼˜ç¾ï¼Œé€‚åˆå…»è€æˆ–ä¼‘é—²'
                    },
                    recommendation: 'æ ¹æ®ä½ çš„æ€§æ ¼ï¼Œå»ºè®®ä¼˜å…ˆè€ƒè™‘<strong>ç æµ·</strong>ï¼Œæ—¢èƒ½å‘æŒ¥ç¤¾äº¤èƒ½åŠ›ï¼Œåˆèƒ½äº«å—æµ·æ»¨ç”Ÿæ´»ã€‚'
                }
            },
            'ç«': {
                personality: {
                    desc: "ä½ åƒç†Šç†Šçƒˆç«ï¼Œçƒ­æƒ…å¥”æ”¾ï¼Œå……æ»¡æ´»åŠ›ã€‚è¡ŒåŠ¨åŠ›å¼ºï¼Œä½†å®¹æ˜“å†²åŠ¨ï¼Œä¸‰åˆ†é’Ÿçƒ­åº¦ã€‚",
                    keywords: "çƒ­æƒ…å¥”æ”¾ã€å……æ»¡æ´»åŠ›ã€è¡ŒåŠ¨åŠ›å¼º"
                },
                career: {
                    suitable: 'ä¼ åª’ã€å¹¿å‘Šã€è‰ºæœ¯ã€é”€å”®ã€æ¼”è‰ºã€é¤é¥®ã€äº’è”ç½‘',
                    avoid: 'è´¢åŠ¡ã€è¡Œæ”¿ã€åˆ¶é€ ä¸š',
                    forecast: '2026å¹´ç«åœŸç›¸ç”Ÿï¼Œäº‹ä¸šç¨³å®šï¼›2027å¹´éœ€é˜²å†²åŠ¨å†³ç­–'
                },
                love: {
                    type: 'çƒ­æƒ…æµªæ¼«ï¼Œæ•¢çˆ±æ•¢æ¨',
                    strength: 'é­…åŠ›åè¶³ï¼Œæ¡ƒèŠ±æ—ºç››',
                    weakness: 'æ„Ÿæƒ…å¤šå˜ï¼Œç¼ºä¹å®šåŠ›',
                    match: 'åœŸå‘½äººï¼ˆç¨³é‡è¸å®ï¼‰æˆ–æœ¨å‘½äººï¼ˆç›¸ç”Ÿç›¸æ—ºï¼‰'
                },
                wealth: {
                    source: 'åè´¢è¿æ—ºï¼Œé æœºä¼šå’Œåˆ›æ„èµšé’±',
                    regular: 'æ³¢åŠ¨è¾ƒå¤§ï¼Œä¸ç¨³å®š',
                    windfall: 'æœºä¼šè¾ƒå¤šï¼Œä½†éœ€è°¨æ…',
                    invest: 'äº’è”ç½‘ã€åˆ›æ„äº§ä¸šã€è‚¡ç¥¨'
                },
                cities: {
                    tier1: {
                        label: 'ä¸€çº¿åŸå¸‚ï¼ˆç«æ°”æœ€æ—ºï¼‰',
                        cities: 'æˆéƒ½ã€é‡åº†',
                        desc: 'ç”Ÿæ´»çƒ­æƒ…ï¼Œç¾é£Ÿä¹‹éƒ½ï¼Œé€‚åˆåˆ›æ„äº§ä¸š'
                    },
                    tier2: {
                        label: 'æ–°ä¸€çº¿åŸå¸‚ï¼ˆå‘å±•æ½œåŠ›å¤§ï¼‰',
                        cities: 'é•¿æ²™ã€æ­¦æ±‰',
                        desc: 'æ´»åŠ›åŸå¸‚ï¼Œå¹´è½»äººå¤šï¼Œæœºä¼šå¤š'
                    },
                    tier3: {
                        label: 'ä¸‰å››çº¿åŸå¸‚ï¼ˆç”Ÿæ´»èˆ’é€‚ï¼‰',
                        cities: 'å—æ˜Œã€è´µé˜³ã€æ¡‚æ—',
                        desc: 'æ°”å€™æ¸©æš–ï¼Œç”Ÿæ´»èŠ‚å¥æ…¢ï¼Œæˆæœ¬è¾ƒä½'
                    },
                    recommendation: 'æ ¹æ®ä½ çš„æ€§æ ¼ï¼Œå»ºè®®ä¼˜å…ˆè€ƒè™‘<strong>å—æ˜Œ</strong>ï¼Œæ—¢èƒ½å‘æŒ¥åˆ›æ„ï¼Œåˆèƒ½äº«å—èˆ’é€‚ç”Ÿæ´»ã€‚'
                }
            },
            'åœŸ': {
                personality: {
                    desc: "ä½ åƒå·å³¨é«˜å±±ï¼Œç¨³é‡è¸å®ï¼Œå€¼å¾—ä¿¡èµ–ã€‚åšäº‹é è°±ï¼Œä½†æœ‰æ—¶è¿‡äºä¿å®ˆï¼Œé”™å¤±æœºä¼šã€‚",
                    keywords: "ç¨³é‡è¸å®ã€å€¼å¾—ä¿¡èµ–ã€åšäº‹é è°±"
                },
                career: {
                    suitable: 'æˆ¿åœ°äº§ã€å»ºç­‘ã€å†œä¸šã€é‡‘èã€è¡Œæ”¿ã€äººåŠ›èµ„æº',
                    avoid: 'åˆ›æ„ã€ä¼ åª’ã€é”€å”®',
                    forecast: '2026å¹´åœŸé‡‘ç›¸ç”Ÿï¼Œäº‹ä¸šç¨³å®šï¼›2027å¹´éœ€é˜²ä¿å®ˆé”™å¤±æœºä¼š'
                },
                love: {
                    type: 'ç¨³é‡ä¸“ä¸€ï¼Œç¼ºä¹æµªæ¼«',
                    strength: 'å€¼å¾—æ‰˜ä»˜ï¼Œå©šå§»ç¨³å®š',
                    weakness: 'ä¸å¤Ÿä¸»åŠ¨ï¼Œå®¹æ˜“é”™è¿‡',
                    match: 'é‡‘å‘½äººï¼ˆèˆ¬é…ç¨³é‡ï¼‰æˆ–ç«å‘½äººï¼ˆæ¸©æš–äº’è¡¥ï¼‰'
                },
                wealth: {
                    source: 'æ­£è´¢è¿æ—ºï¼Œé ç§¯ç´¯å’Œå‚¨è“„',
                    regular: 'ç¨³å¥å¢é•¿ï¼Œé€‚åˆé•¿æœŸæŠ•èµ„',
                    windfall: 'ä¸å®œæŠ•æœºï¼Œä¿å®ˆä¸ºä¸»',
                    invest: 'æˆ¿åœ°äº§ã€åŸºé‡‘ã€å‚¨è“„'
                },
                cities: {
                    tier1: {
                        label: 'ä¸€çº¿åŸå¸‚ï¼ˆåœŸæ°”æœ€æ—ºï¼‰',
                        cities: 'å¤©æ´¥ã€æµå—',
                        desc: 'åŒ—æ–¹åŸå¸‚ï¼Œç¨³é‡è¸å®ï¼Œé€‚åˆç¨³å®šå‘å±•'
                    },
                    tier2: {
                        label: 'æ–°ä¸€çº¿åŸå¸‚ï¼ˆå‘å±•æ½œåŠ›å¤§ï¼‰',
                        cities: 'éƒ‘å·ã€åˆè‚¥',
                        desc: 'ä¸­éƒ¨åŸå¸‚ï¼Œå‘å±•è¿…é€Ÿï¼ŒæŠ•èµ„ä»·å€¼é«˜'
                    },
                    tier3: {
                        label: 'ä¸‰å››çº¿åŸå¸‚ï¼ˆç”Ÿæ´»èˆ’é€‚ï¼‰',
                        cities: 'çŸ³å®¶åº„ã€å¤ªåŸã€æ´›é˜³',
                        desc: 'å†…é™†åŸå¸‚ï¼Œç”Ÿæ´»æˆæœ¬ä½ï¼Œå®‰ç¨³èˆ’é€‚'
                    },
                    recommendation: 'æ ¹æ®ä½ çš„æ€§æ ¼ï¼Œå»ºè®®ä¼˜å…ˆè€ƒè™‘<strong>æ´›é˜³</strong>ï¼Œæ—¢èƒ½ç¨³æ­¥å‘å±•ï¼Œåˆèƒ½äº«å—å†å²æ–‡åŒ–ã€‚'
                }
            }
        };

        // å…¨å±€å˜é‡
        let currentQuestion = 0;
        let scores = { 'é‡‘': 0, 'æœ¨': 0, 'æ°´': 0, 'ç«': 0, 'åœŸ': 0 };
        let userBirthDate = '';
        let yearPillarInfo = null;

        // æ˜¾ç¤ºæç¤º
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 2000);
        }

        // å¼€å§‹æµ‹è¯•
        function startQuiz() {
            const authCode = document.getElementById('authCode').value.trim();
            
            // éªŒè¯æˆæƒç 
            if (!validateAuthCode(authCode)) {
                showToast('éªŒè¯ç é”™è¯¯æˆ–å·²è¿‡æœŸï¼Œè¯·é‡æ–°è·å–');
                return;
            }

            const year = document.getElementById('yearSelect').value;
            const month = document.getElementById('monthSelect').value;
            const day = document.getElementById('daySelect').value;

            if (!year || !month || !day) {
                showToast('è¯·å…ˆé€‰æ‹©å®Œæ•´çš„å‡ºç”Ÿæ—¥æœŸ');
                return;
            }

            userBirthDate = `${year}å¹´${month}æœˆ${day}æ—¥`;

            // è®¡ç®—å¹´æŸ±
            yearPillarInfo = calculateYearStemBranch(parseInt(year));

            // æ˜¾ç¤ºå‘½ç›˜åˆ†æåŠ è½½é¡µ
            document.getElementById('homePage').style.display = 'none';
            document.getElementById('loadingMingpanPage').style.display = 'block';

            // æ¨¡æ‹Ÿå‘½ç›˜åˆ†æè¿‡ç¨‹
            const loadingTexts = [
                'æ¨ç®—å¹´æŸ±ã€æœˆæŸ±ã€æ—¥æŸ±...',
                `å¹´æŸ±ï¼š${yearPillarInfo.full}`,
                'åˆ†æäº”è¡Œç›¸ç”Ÿç›¸å…‹...',
                'åŒ¹é…å¤©é€‰åŸå¸‚æ•°æ®...'
            ];

            let textIndex = 0;
            const loadingInterval = setInterval(() => {
                if (textIndex < loadingTexts.length) {
                    document.getElementById('loadingText').textContent = loadingTexts[textIndex];
                    textIndex++;
                }
            }, 800);

            // 3.5ç§’åè¿›å…¥é—®å·
            setTimeout(() => {
                clearInterval(loadingInterval);
                document.getElementById('loadingMingpanPage').style.display = 'none';
                document.getElementById('quizPage').style.display = 'block';
                showQuestion();
            }, 3500);
        }

        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('questionTitle').textContent = `é—®é¢˜ ${currentQuestion + 1}/${questions.length}ï¼š${question.question}`;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option.text;
                button.onclick = () => selectOption(option.wuxing);
                optionsContainer.appendChild(button);
            });

            // æ›´æ–°è¿›åº¦æ¡
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(wuxing) {
            scores[wuxing] += 1;
            currentQuestion++;

            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            document.getElementById('quizPage').style.display = 'none';
            document.getElementById('resultPage').style.display = 'block';

            // æ˜¾ç¤ºå‡ºç”Ÿä¿¡æ¯
            document.getElementById('birthInfo').textContent = `å‡ºç”Ÿæ—¥æœŸï¼š${userBirthDate}`;

            // æ˜¾ç¤ºå¹´æŸ±ä¿¡æ¯
            document.getElementById('yearPillar').textContent = yearPillarInfo.full + 'ï¼ˆ' + yearPillarInfo.stemWuxing + yearPillarInfo.branchWuxing + 'ï¼‰';
            document.getElementById('yearStemWuxing').textContent = yearPillarInfo.stemWuxing;
            document.getElementById('yearBranchWuxing').textContent = yearPillarInfo.branchWuxing;

            // æ‰¾å‡ºå¾—åˆ†æœ€é«˜çš„äº”è¡Œ
            let maxScore = 0;
            let resultWuxing = 'æœ¨';
            for (let wuxing in scores) {
                if (scores[wuxing] > maxScore) {
                    maxScore = scores[wuxing];
                    resultWuxing = wuxing;
                }
            }

            // æ˜¾ç¤ºç»“æœ
            const content = wuxingContent[resultWuxing];
            
            document.getElementById('wuxingValue').textContent = resultWuxing + 'å‘½äºº';
            document.getElementById('wuxingScore').textContent = `æ€§æ ¼äº”è¡ŒåŒ¹é…åº¦ï¼š${Math.round((maxScore / questions.length) * 100)}% | å¹´æŸ±äº”è¡Œï¼š${yearPillarInfo.stemWuxing}${yearPillarInfo.branchWuxing}`;

            document.getElementById('personalitySection').innerHTML =
                `<div class="section-item">${content.personality.desc}</div>` +
                `<div class="section-item" style="margin-top: 10px;"><span class="section-item-label">å…³é”®è¯ï¼š</span>${content.personality.keywords}</div>`;

            document.getElementById('careerSection').innerHTML =
                `<div class="section-item"><span class="section-item-label">é€‚åˆæ–¹å‘ï¼š</span>${content.career.suitable}</div>` +
                `<div class="section-item"><span class="section-item-label">é¿å¼€æ–¹å‘ï¼š</span>${content.career.avoid}</div>` +
                `<div class="section-item"><span class="section-item-label">2026-2027è¿åŠ¿ï¼š</span>${content.career.forecast}</div>`;

            document.getElementById('loveSection').innerHTML =
                `<div class="section-item"><span class="section-item-label">æ€§æ ¼å±æ€§ï¼š</span>${content.love.type}</div>` +
                `<div class="section-item"><span class="section-item-label">ä¼˜åŠ¿ï¼š</span>${content.love.strength}</div>` +
                `<div class="section-item"><span class="section-item-label">æœ€ä½³å©šé…ï¼š</span>${content.love.match}</div>`;

            document.getElementById('wealthSection').innerHTML =
                `<div class="section-item"><span class="section-item-label">è´¢æºï¼š</span>${content.wealth.source}</div>` +
                `<div class="section-item"><span class="section-item-label">æŠ•èµ„å»ºè®®ï¼š</span>${content.wealth.invest}</div>`;

            // æ˜¾ç¤ºåŸå¸‚åˆ†å±‚æ¨è
            const citiesHTML = `
                <div class="city-tier">
                    <div class="city-tier-label">${content.cities.tier1.label}</div>
                    <div class="city-tier-cities">${content.cities.tier1.cities}</div>
                    <div class="city-tier-desc">${content.cities.tier1.desc}</div>
                </div>
                <div class="city-tier">
                    <div class="city-tier-label">${content.cities.tier2.label}</div>
                    <div class="city-tier-cities">${content.cities.tier2.cities}</div>
                    <div class="city-tier-desc">${content.cities.tier2.desc}</div>
                </div>
                <div class="city-tier">
                    <div class="city-tier-label">${content.cities.tier3.label}</div>
                    <div class="city-tier-cities">${content.cities.tier3.cities}</div>
                    <div class="city-tier-desc">${content.cities.tier3.desc}</div>
                </div>
                <div class="city-recommendation">
                    <div class="city-recommendation-text">${content.cities.recommendation}</div>
                </div>
            `;
            document.getElementById('cityRecommendation').innerHTML = citiesHTML;
        }

        // é‡ç½®é¡µé¢
        function resetPage() {
            currentQuestion = 0;
            scores = { 'é‡‘': 0, 'æœ¨': 0, 'æ°´': 0, 'ç«': 0, 'åœŸ': 0 };
            userBirthDate = '';
            yearPillarInfo = null;
            document.getElementById('resultPage').style.display = 'none';
            document.getElementById('homePage').style.display = 'block';
        }

        // åˆ†äº«ç»“æœ
        function shareResult() {
            alert('é•¿æŒ‰å±å¹•æˆªå›¾ï¼Œå³å¯åˆ†äº«åˆ°æœ‹å‹åœˆ~');
        }

        // ç”Ÿæˆæ˜Ÿæ˜ŸèƒŒæ™¯
        function generateStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                starsContainer.appendChild(star);
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = function() {
            generateStars();
            initDateSelectors();
        };
    </script>
</body>
</html>